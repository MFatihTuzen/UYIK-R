---
title: "R Programlama ile Veri Analizi"
subtitle: "DoÄŸrusal Regresyon Analizi"
author: "Dr. Muhammed Fatih TÃœZEN"
date: 2025-5-16
date-format: "DD-MM-YYYY"
format: 
  revealjs:
    theme: white
    slide-number: true
    slide-number-format: "c / t"
    footer: "AltÄ±ncÄ± UluslararasÄ± UygulamalÄ± Ä°statistik Kongresi (UYIK 2025)"
    css: custom.css
    scrollable: true
    logo: images/TUiK_logo_Tr.jpg
editor: visual
execute:
  echo: true
  eval: true
  warning: false
  message: false
---

## Sunum PlanÄ±

<div>

::: nonincremental
-   **DoÄŸrusal Regresyon Nedir?**
-   **VarsayÄ±mlar**
-   **ArtÄ±k Analizi**
-   **Model PerformansÄ±**
-   **Dikkat Edilecek Hususlar**
-   **FaydalÄ± Kaynaklar**
:::

<div>

ğŸ“¦ Ders Materyalleri: <https://github.com/MFatihTuzen/UYIK-R>

</div>

</div>

## ğŸ“Š DoÄŸrusal Regresyon Nedir?

### ğŸ” TanÄ±m:

DoÄŸrusal regresyon, **bir baÄŸÄ±mlÄ± deÄŸiÅŸkenin (sonucun)** bir veya birden fazla **baÄŸÄ±msÄ±z deÄŸiÅŸken (girdi)** yardÄ±mÄ±yla **doÄŸrusal bir iliÅŸki modeli Ã¼zerinden tahmin edilmesini** saÄŸlayan istatistiksel bir yÃ¶ntemdir.

### ğŸ§  Ne iÅŸe yarar?

-   Ä°ki deÄŸiÅŸken arasÄ±ndaki iliÅŸkinin gÃ¼cÃ¼nÃ¼ ve yÃ¶nÃ¼nÃ¼ analiz eder.
-   Nedensellik deÄŸil, **iliÅŸki modelleme** amacÄ± taÅŸÄ±r.
-   Gelecekteki gÃ¶zlemleri tahmin etmek iÃ§in kullanÄ±labilir.
-   Makine Ã¶ÄŸrenmesinin birÃ§ok modeline **temel oluÅŸturur.**

### ğŸ§  Yorum:

> Regresyon, veriler arasÄ±ndaki iliÅŸkileri **modellenebilir ve yorumlanabilir** hale getirir.\
> Ancak **korelasyon â‰  nedensellik** olduÄŸunu asla unutmamak gerekir.

## ğŸ§® Basit DoÄŸrusal Regresyon â€“ Temel Model

### ğŸ“ Matematiksel Form:

$$
y_i = \beta_0 + \beta_1 x_i + \varepsilon_i
$$

-   $y_i$: baÄŸÄ±mlÄ± deÄŸiÅŸken (tahmin edilmek istenen)
-   $x_i$: baÄŸÄ±msÄ±z deÄŸiÅŸken (girdi)
-   $\beta_0$: sabit terim (intercept)
-   $\beta_1$: eÄŸim (slope)
-   $\varepsilon_i$: gÃ¶zlem baÅŸÄ±na hata (artÄ±k)

---

### ğŸ”§ Parametrelerin Tahmini â€“ OLS (Ordinary Least Squares)

AmaÃ§: Hata terimlerinin karesinin toplamÄ±nÄ± minimize eden $\beta_0$ ve $\beta_1$ deÄŸerlerini bulmaktÄ±r.

Minimize edilen fonksiyon:

$$
\text{SSE} = \sum_{i=1}^{n} (y_i - \hat{y}_i)^2 = \sum_{i=1}^{n} (y_i - (\beta_0 + \beta_1 x_i))^2
$$

Bu iÅŸlemin sonunda $\beta_0$ ve $\beta_1$ iÃ§in kapalÄ± form Ã§Ã¶zÃ¼mler elde edilir.

------------------------------------------------------------------------

## ğŸ§  VarsayÄ±mlar

**Modelin SaÄŸlÄ±klÄ± Ä°ÅŸleyebilmesi Ä°Ã§in Gerekli KoÅŸullar**

| VarsayÄ±m                             | AÃ§Ä±klama                                            |
|------------------------------------|------------------------------------|
| **Lineerlik**                        | $x$ ile $y$ arasÄ±nda doÄŸrusal iliÅŸki olmalÄ±         |
| **HatalarÄ±n ortalamasÄ± sÄ±fÄ±rdÄ±r**    | $E[\varepsilon_i] = 0$                              |
| **Sabit varyans (homoskedastisite)** | HatalarÄ±n varyansÄ± sabittir                         |
| **BaÄŸÄ±msÄ±zlÄ±k**                      | GÃ¶zlemler birbirinden baÄŸÄ±msÄ±zdÄ±r                   |
| **Normal daÄŸÄ±lÄ±m**                   | Hatalar normal daÄŸÄ±lmÄ±ÅŸtÄ±r (Ã¶zellikle Ã§Ä±karÄ±m iÃ§in) |

> â— VarsayÄ±mlar saÄŸlanmazsa tahminler tutarsÄ±z veya yanlÄ± olabilir.

------------------------------------------------------------------------

## ğŸ“‰ ArtÄ±k (Residual) Nedir?

> ArtÄ±k, bir gÃ¶zlem iÃ§in modelin yaptÄ±ÄŸÄ± tahmin ile gerÃ§ek deÄŸer arasÄ±ndaki farktÄ±r:

$$
\varepsilon_i = y_i - \hat{y}_i
$$

-   ArtÄ±klar: modelin ne kadar â€œyanÄ±ldÄ±ÄŸÄ±nÄ±â€ gÃ¶sterir
-   ArtÄ±klarÄ±n analizi, modelin doÄŸruluÄŸunu ve varsayÄ±mlarÄ±n saÄŸlanÄ±p saÄŸlanmadÄ±ÄŸÄ±nÄ± anlamada kullanÄ±lÄ±r.

::: columns
::: {.column width="90%"}
```{r}
x <- 1:10
y <- 2 + 0.5 * x + rnorm(10, sd = 1)
model <- lm(y ~ x)
plot(x, y, pch = 19, main = "Regresyon DoÄŸrusu ve ArtÄ±klar")
abline(model, col = "blue", lwd = 2)
segments(x, y, x, fitted(model), col = "red")  # artÄ±klar (hatalar)
```
:::
:::

> ğŸ”´ KÄ±rmÄ±zÄ± Ã§izgiler artÄ±klarÄ± temsil eder. Modelin her noktada ne kadar saptÄ±ÄŸÄ±nÄ± gÃ¶sterir.

## ğŸ™ï¸ Boston Veri Seti TanÄ±tÄ±mÄ±

### ğŸ“¦ Veri KaynaÄŸÄ±

> `Boston` veri seti, **MASS** paketinde yer alÄ±r.\
> 506 gÃ¶zlem ve 14 deÄŸiÅŸkenden oluÅŸur.\
> AmaÃ§: **Bostonâ€™daki konut deÄŸerlerini** sosyo-ekonomik ve Ã§evresel deÄŸiÅŸkenlerle aÃ§Ä±klamak.

```{r}
library(MASS)
data("Boston")
str(Boston)
```

------------------------------------------------------------------------

### ğŸ” Ana DeÄŸiÅŸkenler

| DeÄŸiÅŸken  | AÃ§Ä±klama                                                       |
|---------------------------------------|---------------------------------|
| `medv`    | Median konut deÄŸeri (1000 \$ cinsinden) â†’ **baÄŸÄ±mlÄ± deÄŸiÅŸken** |
| `lstat`   | \% dÃ¼ÅŸÃ¼k sosyo-ekonomik statÃ¼deki insanlar                     |
| `rm`      | Ortalama oda sayÄ±sÄ±                                            |
| `crim`    | SuÃ§ oranÄ±                                                      |
| `nox`     | Azot oksit yoÄŸunluÄŸu (hava kirliliÄŸi)                          |
| `dis`     | Åehir merkezine uzaklÄ±k                                        |
| `ptratio` | Ã–ÄŸrenci-Ã¶ÄŸretmen oranÄ±                                         |
| `age`     | %1940'tan Ã¶nce inÅŸa edilmiÅŸ ev oranÄ±                           |
| `indus`   | EndÃ¼striyel alan oranÄ±                                         |
| `chas`    | Charles Nehri kenarÄ±nda mÄ±? (0 = hayÄ±r, 1 = evet)              |

------------------------------------------------------------------------

### ğŸ¯ Modelleme AmacÄ±mÄ±z

> DeÄŸiÅŸkenlerden biriyle baÅŸlayarak konut deÄŸerini (`medv`) tahmin etmek.\
> BaÅŸlangÄ±Ã§: `medv ~ lstat` â†’ basit regresyon modeli.

### ğŸ“Œ Neden `lstat`?

-   Gelir dÃ¼zeyini temsil eder
-   Fiyatlarla iliÅŸkili olmasÄ± beklenir
-   GÃ¶rsel iliÅŸki kolay algÄ±lanabilir
-   Ä°leri adÄ±mlarda `rm`, `crim` gibi deÄŸiÅŸkenlerle **Ã§oklu modele** geÃ§eceÄŸiz

## ğŸ§ª Uygulama: Basit DoÄŸrusal Regresyon

### ğŸ¯ Model: `medv ~ lstat`

> AmaÃ§: DÃ¼ÅŸÃ¼k sosyo-ekonomik statÃ¼deki insanlarÄ±n oranÄ± arttÄ±kÃ§a, konut fiyatÄ± (`medv`) nasÄ±l deÄŸiÅŸiyor?

```{r}
# Modeli kur
model1 <- lm(medv ~ lstat, data = Boston)
model1

```

---

### ğŸ“‹ Regresyon Ã‡Ä±ktÄ±sÄ±nÄ±n YorumlanmasÄ±

```{r}
# Model Ã¶zetini incele
summary(model1)
```

### ğŸ” Ã‡Ä±ktÄ± BileÅŸenleri:

1.  **Call:**\
    Model formÃ¼lÃ¼nÃ¼ tekrar gÃ¶sterir: `medv ~ lstat`

2.  **Coefficients:**

    | Terim     | Estimate | Std. Error | t value | Pr(\>    |
    |-----------|----------|------------|---------|----------|
    | Intercept | 34.5538  | 0.5626     | 61.41   | \< 2e-16 |
    | lstat     | -0.9500  | 0.0387     | -24.54  | \< 2e-16 |

    -   **Estimate**: Tahmin edilen katsayÄ±
    -   **Std. Error**: Bu tahminin belirsizliÄŸi (SE)
    -   **t value**: $\frac{\text{Estimate}}{\text{Std.Error}}$
    -   **p-value**: KatsayÄ±nÄ±n sÄ±fÄ±rdan farklÄ± olup olmadÄ±ÄŸÄ±nÄ± test eder

    > EÄŸer p \< 0.05 ise, o deÄŸiÅŸkenin modele anlamlÄ± katkÄ± saÄŸladÄ±ÄŸÄ± dÃ¼ÅŸÃ¼nÃ¼lÃ¼r.

    ### â„¹ï¸ Std. Error Nedir?

    > **Std. Error (Standart Hata)**, tahmin edilen regresyon katsayÄ±sÄ±nÄ±n (Î²Ì‚) **ne kadar belirsiz olduÄŸunu** Ã¶lÃ§er.\
    > BaÅŸka bir deyiÅŸle, **katsayÄ±nÄ±n Ã¶rnekleme daÄŸÄ±lÄ±mÄ±nÄ±n standart sapmasÄ±dÄ±r**.

    -   EÄŸer **standart hata kÃ¼Ã§Ã¼kse**, bu katsayÄ±ya daha fazla gÃ¼venebiliriz.
    -   EÄŸer bÃ¼yÃ¼kse, Ã¶rneklemdeki rastgelelik bu katsayÄ±nÄ±n deÄŸerine daha Ã§ok etki ediyor olabilir.

    > ğŸ” **Ä°yi bir model** genellikle anlamlÄ± katsayÄ±lar + kÃ¼Ã§Ã¼k standart hatalara sahiptir.

------------------------------------------------------------------------

### ğŸ§  FaydalÄ± Tavsiyeler

#### âœ”ï¸ `broom` paketi kullan: Daha okunabilir sonuÃ§lar

```{r}
library(broom)

glance(model1)      # Model dÃ¼zeyinde Ã¶zet istatistikler
tidy(model1)        # KatsayÄ±lar, SE, p-deÄŸerleri
augment(model1)     # GÃ¶zlem dÃ¼zeyinde hatalar, tahminler, artÄ±klar
```

#### âœ”ï¸ RÂ² yorumlanÄ±rken dikkatli ol:

-   Ã‡ok yÃ¼ksek olmasÄ± her zaman iyi deÄŸildir
-   DÃ¼ÅŸÃ¼k olabilir ama model doÄŸru bir iliÅŸkiyi temsil ediyor olabilir

#### âœ”ï¸ `confint()` fonksiyonu ile gÃ¼ven aralÄ±ÄŸÄ±na bak

```{r}
confint(model1)
```

------------------------------------------------------------------------

### ğŸ“Œ Ekstra Bilgi: `sigma`

```{r}
sigma(model1)  # Ortalama artÄ±k hatasÄ±nÄ±n tahmini (residual std error)
```

> Bu deÄŸer â€œgerÃ§ek veri ile modelin tahminleri ortalama ne kadar sapÄ±yor?â€ sorusunun cevabÄ±dÄ±r.

### ğŸ’¡ Yorum

-   `lstat` deÄŸiÅŸkeni 1 birim arttÄ±ÄŸÄ±nda (Ã¶rneÄŸin %12 â†’ %13), medv **ortalama Î²â‚ kadar azalÄ±r**\
-   EÄŸer bu katsayÄ± negatifse, dÃ¼ÅŸÃ¼k sosyo-ekonomik oran **arttÄ±kÃ§a** konut deÄŸeri **azalÄ±yor** demektir\
-   Bu bulgu anlamlÄ±ysa (p \< 0.001), veri iÃ§indeki iliÅŸki gÃ¼Ã§lÃ¼dÃ¼r

---

### ğŸ“‰ Regresyon DoÄŸrusu ve ArtÄ±klar

::: columns
::: {.column width="90%"}
```{r}
library(ggplot2)

ggplot(Boston, aes(x = lstat, y = medv)) +
  geom_point(alpha = 0.6) +
  geom_smooth(method = "lm", se = FALSE, color = "blue") +
  labs(
    title = "Basit DoÄŸrusal Regresyon: medv ~ lstat",
    x = "% dÃ¼ÅŸÃ¼k statÃ¼deki insanlar (lstat)",
    y = "Ortalama Konut DeÄŸeri (medv)"
  ) +
  theme_minimal()
```
:::
:::

> ğŸ”µ Mavi Ã§izgi modelin tahmin ettiÄŸi regresyon doÄŸrusudur.\
> NoktalarÄ±n bu doÄŸruya uzaklÄ±ÄŸÄ± **artÄ±k deÄŸerlerdir** ve modelin ne kadar sapma yaptÄ±ÄŸÄ±nÄ± gÃ¶sterir.

### ğŸ§  Not

> Bu model yalnÄ±zca **doÄŸrusal bir iliÅŸki** varsayar.\
> Ama bu iliÅŸki her zaman doÄŸrusal olmayabilir â€” grafik bu varsayÄ±mÄ± test etmek iÃ§in Ã¶nemlidir.

---

### ğŸ§® GÃ¶zlem BazlÄ± Regresyon Analizi â€“ ArtÄ±klar ve Tahminler

### ğŸ¯ AmaÃ§:

> Model her bir gÃ¶zlem iÃ§in ne kadar doÄŸru tahmin yapÄ±yor?\
> ArtÄ±klar ne kadar bÃ¼yÃ¼k? Sistematik sapma var mÄ±?

```{r}
library(broom)

# augment ile detaylÄ± Ã§Ä±ktÄ±
augmented <- augment(model1)

# Ä°lk 6 gÃ¶zlem iÃ§in Ã§Ä±ktÄ±ya bakalÄ±m
head(augmented)
```

### ğŸ“Š Ã–nemli Kolonlar

| Kolon        | AÃ§Ä±klama                                             |
|--------------|------------------------------------------------------|
| `.fitted`    | Modelin tahmin ettiÄŸi medv deÄŸeri                    |
| `.resid`     | ArtÄ±k deÄŸeri: $y_i - \hat{y}_i$                      |
| `.std.resid` | Standardize artÄ±k (Ã§Ä±kÄ±ntÄ±lÄ± gÃ¶zlemleri tespit iÃ§in) |
| `.hat`       | Leverage deÄŸeri (etkili gÃ¶zlem mi?)                  |
| `.sigma`     | Tahminin hata tahmini (her gÃ¶zlem iÃ§in)              |

------------------------------------------------------------------------

### ğŸ“‰ GÃ¶rselleÅŸtirme: Tahmin vs GerÃ§ek

::: columns
::: {.column width="90%"}
```{r}
library(ggplot2)

ggplot(augmented, aes(x = .fitted, y = medv)) +
  geom_point(alpha = 0.6) +
  geom_abline(slope = 1, intercept = 0, color = "red", linetype = "dashed") +
  labs(
    title = "Tahmin Edilen vs GerÃ§ek DeÄŸerler",
    x = "Tahmin (fitted)",
    y = "GerÃ§ek (medv)"
  ) +
  theme_minimal()
```
:::
:::

> ğŸ”´ KÄ±rmÄ±zÄ± Ã§izgi tam tahmin Ã§izgisidir: $\hat{y} = y$\
> Noktalar bu Ã§izgiden Ã§ok sapÄ±yorsa model orada baÅŸarÄ±sÄ±zdÄ±r.

### ğŸ§  Tavsiye:

-   `.std.resid` \> 2 olan gÃ¶zlemleri **potansiyel uÃ§ deÄŸer** olarak iÅŸaretleyin.
-   `.hat` deÄŸeri yÃ¼ksekse gÃ¶zlem model Ã¼zerinde **orantÄ±sÄ±z etki yaratÄ±yor** olabilir.

```{r}
library(dplyr)
augmented %>%
  filter(abs(.std.resid) > 2 | .hat > 0.1)
```

## ğŸ“ Regresyon Modeli NasÄ±l DeÄŸerlendirilir?

### ğŸ” Neden Gerekli?

> Modelin ne kadar iyi tahmin yaptÄ±ÄŸÄ± sadece $R^2$ ile anlaÅŸÄ±lmaz.\
> GerÃ§ek deÄŸerlerden ortalama ne kadar sapma olduÄŸunu da bilmeliyiz.

### ğŸ“Š Temel Metrikler

| Metrik          | AÃ§Ä±klama                                                     |
|------------------------------------|------------------------------------|
| **RMSE**        | Ortalama karekÃ¶k hata: bÃ¼yÃ¼k hatalar daha Ã§ok cezalandÄ±rÄ±lÄ±r |
| **MAE**         | Ortalama mutlak hata: yorumlamasÄ± kolay                      |
| **RÂ²**          | AÃ§Ä±klanan varyans oranÄ±                                      |
| **Adjusted RÂ²** | DeÄŸiÅŸken sayÄ±sÄ±na gÃ¶re dÃ¼zeltilmiÅŸ RÂ²                        |
| **AIC / BIC**   | Model karÅŸÄ±laÅŸtÄ±rmasÄ±: daha dÃ¼ÅŸÃ¼k daha iyidir                |
| **sigma()**     | Ortalama artÄ±k sapmasÄ± (residual std error)                  |

------------------------------------------------------------------------

### ğŸ§ª Uygulama â€“ R ile Hesaplama

```{r}
library(Metrics)

actual <- Boston$medv
predicted <- predict(model1)

rmse(actual, predicted)   # Ortalama hata miktarÄ±
mae(actual, predicted)    # Ortalama mutlak hata
sigma(model1)             # summary(model1) iÃ§indeki residual std error
```

#### Ek olarak:

```{r}
glance(model1)[, c("r.squared", "adj.r.squared", "AIC", "BIC")]
```

> ğŸ” `glance()` ile performans metriklerine tek satÄ±rda ulaÅŸÄ±lÄ±r.

------------------------------------------------------------------------

### ğŸ“Œ Tavsiyeler:

-   RMSE ve MAE birlikte kullanÄ±lÄ±r â†’ Biri sapmalarÄ± bÃ¼yÃ¼tÃ¼r, diÄŸeri sadeleÅŸtirir
-   AIC/BIC sadece **aynÄ± hedef deÄŸiÅŸkenli modeller** arasÄ±nda karÅŸÄ±laÅŸtÄ±rma iÃ§in anlamlÄ±dÄ±r
-   Ã‡ok yÃ¼ksek RÂ² bazen **overfitting** (ezberleme) anlamÄ±na da gelebilir
-   Sigma kÃ¼Ã§Ã¼kse, artÄ±klar kÃ¼Ã§Ã¼k â†’ iyi bir ÅŸey

### ğŸ’¡ Kural

> Performans metriÄŸini yorumlarken:\
> **â€œTahmin ettiÄŸim deÄŸer, ortalama olarak gerÃ§ek deÄŸerden ne kadar sapÄ±yor?â€**\
> sorusuna cevap arÄ±yoruz.

## ğŸ§ª Ã‡oklu DoÄŸrusal Regresyon

### ğŸ¯ AmaÃ§:

> FiyatlarÄ± etkileyebileceÄŸini dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼mÃ¼z deÄŸiÅŸkenlerle daha gerÃ§ekÃ§i bir model kurmak

```{r}
model2 <- lm(medv ~ lstat + rm + age + crim, data = Boston)
summary(model2)
```

### ğŸ” Ä°lk Yorumlar

-   Her bir deÄŸiÅŸkenin **etkisi sabitken diÄŸer deÄŸiÅŸkenin etkisi** yorumlanÄ±r\
    â†’ Ã–rn: `lstat` 1 birim artarken, `rm`, `age`, `crim` sabit tutulur
-   p-deÄŸerleri sayesinde hangi deÄŸiÅŸkenlerin **istatistiksel olarak anlamlÄ±** olduÄŸu anlaÅŸÄ±lÄ±r
-   Adjusted RÂ² = Ã§ok Ã¶nemli! DeÄŸiÅŸken sayÄ±sÄ± arttÄ±ÄŸÄ±nda RÂ² her zaman yÃ¼kselir, ama **adj.RÂ²** artmazsa dikkat!

------------------------------------------------------------------------

### ğŸ“Š Tahmin ve GerÃ§ek DeÄŸer GrafiÄŸi

::: columns
::: {.column width="90%"}
```{r}
library(broom)
aug2 <- augment(model2)

ggplot(aug2, aes(x = .fitted, y = medv)) +
  geom_point(alpha = 0.6) +
  geom_abline(slope = 1, intercept = 0, color = "red", linetype = "dashed") +
  labs(
    title = "Ã‡oklu Model: Tahmin vs GerÃ§ek DeÄŸer",
    x = "Tahmin (fitted)",
    y = "GerÃ§ek (medv)"
  ) +
  theme_minimal()
```
:::
:::

### ğŸ’¬ Yorum:

> Ã‡oklu model, `medv ~ lstat` tek baÅŸÄ±na olduÄŸundan genellikle **daha iyi** sonuÃ§ verir.\
> Ama **anlamlÄ±lÄ±k**, **Ã§oklu iliÅŸki** ve **etki bÃ¼yÃ¼klÃ¼ÄŸÃ¼** gibi unsurlarÄ± gÃ¶z ardÄ± etmemek gerekir.

## âš ï¸ Ã‡oklu DoÄŸrusal Regresyonda SÄ±k YapÄ±lan Hatalar

### ğŸš« Tipik Hatalar

-   **TÃ¼m deÄŸiÅŸkenleri kÃ¶rlemesine eklemek** â†’ AÃ§Ä±klayÄ±cÄ± gÃ¼Ã§ deÄŸil, gÃ¼rÃ¼ltÃ¼ artar
-   **Korelasyon varsa mutlaka koymalÄ±yÄ±m dÃ¼ÅŸÃ¼ncesi** â†’ Multikolineariteye yol aÃ§abilir
-   **Kategorik deÄŸiÅŸkenleri sayÄ±sal gibi bÄ±rakmak** â†’ FaktÃ¶r dÃ¶nÃ¼ÅŸÃ¼mÃ¼ yapÄ±lmadan model yanlÄ±ÅŸ Ã§alÄ±ÅŸÄ±r
-   **ArtÄ±klarÄ± ve varsayÄ±mlarÄ± test etmemek** â†’ RÂ² yÃ¼ksek olsa da model istatistiksel olarak geÃ§ersiz olabilir
-   **RÂ²â€™ye kÃ¶rÃ¼ kÃ¶rÃ¼ne gÃ¼venmek** â†’ Model iyi gÃ¶zÃ¼kÃ¼r ama ezber yapÄ±yor olabilir (overfitting)
-   **Veriyi incelemeden regresyona girmek** â†’ Lineerlik saÄŸlanmÄ±yor olabilir

------------------------------------------------------------------------

#### âœ”ï¸ VIF ile Multikolineariteyi Kontrol Et

VIF (Variance Inflation Factor) ile Ã§oklu doÄŸrusal iliÅŸkiyi kontrol et

```{r}
library(car)
vif(model2)
```

> ğŸ” VIF \> 5 â†’ **ciddi Ã§oklu iliÅŸki riski**,\
> VIF \> 10 â†’ **kritik dÃ¼zeyde uyarÄ±**

---

#### âœ”ï¸ `performance` paketi ile hÄ±zlÄ± model testi

### ğŸ¯ AmaÃ§:

> Regresyon modelinin varsayÄ±mlarÄ±nÄ± **tek adÄ±mda test etmek**\
> ArtÄ±klarÄ±n daÄŸÄ±lÄ±mÄ±, varyans sabitliÄŸi, lineerlik, normal daÄŸÄ±lÄ±m ve uÃ§ deÄŸerler dahil

::: columns
::: {.column width="95%"}
```{r}
library(performance)
check_model(model2)
```
:::
:::

### ğŸ“Š Ãœretilen Grafikler ve YorumlarÄ±

| Grafik                         | Ne GÃ¶sterir?                                    | NasÄ±l YorumlanÄ±r?                                                                                           |
|-----------------|------------------------|-------------------------------|
| **Posterior Predictive Check** | Histogram veya yoÄŸunluk grafiÄŸi olarak verilir. | Modelin tahmin ettiÄŸi deÄŸerlerin, gerÃ§ek deÄŸerlerle **benzer daÄŸÄ±lÄ±ma** sahip olup olmadÄ±ÄŸÄ±nÄ± kontrol eder. |
| **Linearity Check**            | Fitted vs Residuals                             | Noktalar rastgele daÄŸÄ±lmalÄ±. Desen varsa lineerlik saÄŸlanmÄ±yor.                                             |
| **Homoscedasticity**           | ArtÄ±klarÄ±n sabit varyansÄ±                       | Fan aÃ§Ä±lÄ±yorsa heteroskedastisite olabilir.                                                                 |
| **Normality of Residuals**     | QQ Plot                                         | Noktalar eÄŸriden sapÄ±yorsa normal daÄŸÄ±lÄ±m varsayÄ±mÄ± bozulmuÅŸ olabilir.                                      |
| **Outliers**                   | Standardize artÄ±klar ve leverage                | Uzak noktalar varsa, potansiyel etkili uÃ§ gÃ¶zlemler olabilir.                                               |
| **Influential Obs.**           | Cookâ€™s Distance                                 | .5 Ã¼zeri deÄŸerler varsa dikkat: gÃ¶zlem modeli etkiliyor olabilir.                                           |

---

### ğŸ“Œ Dikkat Edilmesi Gerekenler

-   **Lineerlik bozulmuÅŸsa** â†’ modelin formunu deÄŸiÅŸtir (log, polinomik dÃ¶nÃ¼ÅŸÃ¼m)
-   **Heteroskedastisite varsa** â†’ `lmtest::bptest()` ile test et, `robust` modelleri dÃ¼ÅŸÃ¼n
-   **QQ plot bozuksa** â†’ Ã§Ä±karÄ±m yaparken dikkat et, normal varsayÄ±mÄ± Ã¶nemliyse `glm` dÃ¼ÅŸÃ¼n
-   **Leverage ve Cookâ€™s D. yÃ¼ksekse** â†’ gÃ¶zlemi silmeden Ã¶nce etkisini analiz et

### ğŸ§  Tavsiye

> `check_model()` sonucu sadece gÃ¶rÃ¼p geÃ§ilmez.\
> Her bir grafiÄŸi modelin anatomik bir MRâ€™Ä± gibi dÃ¼ÅŸÃ¼n.\
> VarsayÄ±mlar saÄŸlanmÄ±yorsa: **model deÄŸiÅŸtirilir ya da dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lÃ¼r.**

---

#### âœ”ï¸ Kategorik DeÄŸiÅŸkenler iÃ§in `factor()` kullan

```{r}
Boston$chas <- as.factor(Boston$chas)
```

### ğŸ“ HatÄ±rlatma

> **Ä°yi bir regresyon modeli**, sadece yÃ¼ksek RÂ² deÄŸil;\
> anlamlÄ± katsayÄ±lar, dÃ¼ÅŸÃ¼k multikolinearite, tutarlÄ± varsayÄ±mlar ve yorumlanabilirlik iÃ§erir.

## ğŸ§° DoÄŸrusal Regresyonda KullanÄ±labilecek Ä°leri AraÃ§lar

### ğŸ“¦ Ã–ne Ã‡Ä±kan Paketler ve AmaÃ§larÄ±

| Paket          | AmaÃ§                                      | Notlar                                          |
|------------------------------------|-----------------|-------------------|
| `broom`        | Regresyon Ã§Ä±ktÄ±sÄ±nÄ± dÃ¼zenleme             | `tidy()`, `glance()`, `augment()` fonksiyonlarÄ± |
| `car`          | VarsayÄ±m testi, multikolinearite          | `vif()`, `linearHypothesis()`                   |
| `performance`  | Model varsayÄ±mlarÄ±, etkili gÃ¶zlem tespiti | `check_model()` ile tam analiz                  |
| `modelsummary` | YayÄ±n kalitesinde regresyon tablolarÄ±     | Ã‡oklu model karÅŸÄ±laÅŸtÄ±rmasÄ± kolay               |
| `ggfortify`    | Regresyon iÃ§in otomatik artÄ±k grafikleri  | `autoplot(lm_model)`                            |
| `glmnet`       | Ridge, Lasso, Elastic Net                 | Regularizasyon iÃ§in                             |
| `tidymodels`   | Modern modelleme altyapÄ±sÄ±                | `recipes`, `workflow`, `tune`, `parsnip`        |
| `jtools`       | Regresyon grafiklendirme, etkili sunum    | `summ()`, `plot_summs()`                        |

------------------------------------------------------------------------

### ğŸ§  Ne Zaman KullanÄ±lÄ±r?

-   **Modeli yorumlamak iÃ§in**: `broom`, `modelsummary`, `jtools`
-   **VarsayÄ±mlarÄ± test etmek iÃ§in**: `performance`, `car`
-   **GÃ¶rselleÅŸtirme iÃ§in**: `ggplot2`, `ggfortify`, `jtools`
-   **GeliÅŸmiÅŸ regresyon iÃ§in**: `glmnet`, `tidymodels`
-   **Sunum/rapor Ã¼retmek iÃ§in**: `modelsummary`, `stargazer` (LaTeX iÃ§in)

------------------------------------------------------------------------

### ğŸ“š FaydalÄ± Kaynaklar

-   ğŸ“– *An Introduction to Statistical Learning* (ISLR)\
-   ğŸ“– *Hands-On Machine Learning with R* â€“ Brad Boehmke & Brandon Greenwell\
-   ğŸ”— [tidymodels.org](https://www.tidymodels.org/) â€“ modern modelleme ekosistemi\
-   ğŸ”— [easystats.github.io/performance](https://easystats.github.io/performance) â€“ varsayÄ±m kontrolleri

### ğŸ¯ KapanÄ±ÅŸ Tavsiyesi

> DoÄŸrusal regresyon, sadece â€œilk modelâ€ deÄŸil, Ã§oÄŸu zaman **en gÃ¼Ã§lÃ¼ referans modeldir**.\
> Modern araÃ§larla desteklenirse hem saÄŸlam, hem de sÃ¼rdÃ¼rÃ¼lebilir analizler yapÄ±labilir.

---

### ğŸ“š Neler Ã–ÄŸrendik?

-   **DoÄŸrusal Regresyonun temel mantÄ±ÄŸÄ±**: BaÄŸÄ±mlÄ± ve baÄŸÄ±msÄ±z deÄŸiÅŸkenler arasÄ±ndaki iliÅŸki
-   **Parametre tahmini, artÄ±klar, varsayÄ±mlar**
-   **Basit ve Ã§oklu modellerle uygulama** (`lm`, `summary`, `augment`)
-   **Model deÄŸerlendirme metrikleri**: RMSE, MAE, RÂ², AIC
-   **VarsayÄ±m kontrolleri** (`check_model`, `vif`)
-   **Regresyonu anlamlÄ± kÄ±lan ÅŸey: yorumlama, sadeleÅŸme, kontrol**

### ğŸ”§ Tavsiyeler

-   Her modeli **yorumla**, sadece **hesaplama** yapma
-   **VarsayÄ±mlar bozulduÄŸunda** bileceÄŸin araÃ§lar olsun
-   Regresyon = Makine Ã¶ÄŸrenmesine aÃ§Ä±lan **istatistiksel kapÄ±**

------------------------------------------------------------------------

### ğŸ™ TeÅŸekkÃ¼rler

> KatÄ±lÄ±mÄ±nÄ±z iÃ§in teÅŸekkÃ¼r ederim!\
> ğŸ“§ Ä°letiÅŸim: **Dr. M. Fatih TÃ¼zen**
>
> > ğŸ“§ fatih.tuzen\@tuik.gov.tr\
> > ğŸŒ [rprogramlama.netlify.app](https://rprogramlama.netlify.app)\
> > ğŸ”— [linkedin.com/in/dr-m-fatih-t-2b2a4328](https://www.linkedin.com/in/dr-m-fatih-t-2b2a4328/)
