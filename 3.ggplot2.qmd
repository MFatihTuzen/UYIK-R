---
title: "R Programlama ile Veri Analizi"
subtitle: "ggplot2 ile Veri GÃ¶rselleÅŸtirme"
author: "Dr. Muhammed Fatih TÃœZEN"
date: 2025-5-16
date-format: "DD-MM-YYYY"
format: 
  revealjs:
    theme: white
    slide-number: true
    slide-number-format: "c / t"
    footer: "AltÄ±ncÄ± UluslararasÄ± UygulamalÄ± Ä°statistik Kongresi (UYIK 2025)"
    css: custom.css
    scrollable: true
    logo: images/TUiK_logo_Tr.jpg
editor: visual
execute:
  echo: true
  eval: true
  warnings: false
  messages: false
---

## Sunum PlanÄ±

<div>

::: nonincremental
-   Veri GÃ¶rselleÅŸtirme
-   ggplot2
-   DaÄŸÄ±lÄ±m Grafikleri
-   SaÃ§Ä±lÄ±mGrafikleri
-   SÃ¼tun Grafikleri
-   Zaman Serisi Grafikleri
:::

<div>

ğŸ“¦ Ders Materyalleri: <https://github.com/MFatihTuzen/UYIK-R>

</div>

</div>

------------------------------------------------------------------------

## Neden GÃ¶rselleÅŸtirme?

ğŸ“Š Veriyi sayÄ±lardan gÃ¶rsele dÃ¶nÃ¼ÅŸtÃ¼rmek:

-   Desenleri ve iliÅŸkileri fark etmenin en hÄ±zlÄ± yolu

-   Anomali ve uÃ§ deÄŸerleri yakalama aracÄ±

-   Model kurmadan Ã¶nce veriyle konuÅŸma fÄ±rsatÄ±

-   Son kullanÄ±cÄ±ya anlatmanÄ±n en etkili yÃ¶ntemi

> ğŸ” GÃ¶rselleÅŸtirme = KeÅŸif + AnlatÄ± + Ä°kna

ğŸ“Œ R'de veri gÃ¶rselleÅŸtirme iÃ§in en gÃ¼Ã§lÃ¼ paket: `ggplot2`

## `ggplot2` MantÄ±ÄŸÄ±

-   Katman (layer) temelli sistem: her grafik parÃ§asÄ± ayrÄ± bir katmandÄ±r
-   `ggplot(data, aes(...)) + geom_*() + ...` ÅŸeklinde inÅŸa edilir

```{r}
#| eval: false
ggplot(data = df, aes(x = var1, y = var2)) +
  geom_point()
```

**ğŸ”§ Temel bileÅŸenler:**

| BileÅŸen     | AÃ§Ä±klama                       |
|-------------|--------------------------------|
| `data`      | Veri seti                      |
| `aes()`     | Estetik: eksenler, renk, ÅŸekil |
| `geom_*()`  | Grafik tÃ¼rÃ¼                    |
| `labs()`    | Etiketler, baÅŸlÄ±klar           |
| `theme_*()` | GÃ¶rsel stil ayarlarÄ±           |

> ğŸ’¡ `ggplot2` sadece grafik deÄŸil, **grafik dili**dir.

------------------------------------------------------------------------

## ğŸ“¦ Veri Seti: diamonds

ğŸ“¦ `ggplot2` paketi iÃ§inde yer alan, elmaslarÄ±n fiziksel Ã¶zelliklerini ve fiyatlarÄ±nÄ± iÃ§eren hazÄ±r veri setidir.

### ğŸ“Š Ä°Ã§erdiÄŸi DeÄŸiÅŸkenler

| DeÄŸiÅŸken      | AÃ§Ä±klama                         | TÃ¼rÃ¼      |
|---------------|----------------------------------|-----------|
| `carat`       | Elmas aÄŸÄ±rlÄ±ÄŸÄ± (0.2 gram = 1 ct) | SÃ¼rekli   |
| `cut`         | Kesim kalitesi (Fair â†’ Ideal)    | Kategorik |
| `color`       | Renk derecesi (D = en iyi)       | Kategorik |
| `clarity`     | BerraklÄ±k derecesi               | Kategorik |
| `price`       | Fiyat (ABD dolarÄ±)               | SÃ¼rekli   |
| `x`, `y`, `z` | Fiziksel boyutlar (mm)           | SÃ¼rekli   |

### ğŸ“Œ Neden Bu Veri Seti?

-   Hem **sÃ¼rekli hem kategorik** deÄŸiÅŸken iÃ§eriyor

-   50.000+ gÃ¶zlem â†’ yoÄŸunluk ve desen analizi iÃ§in ideal

-   Temiz ve hazÄ±r â†’ Ã¶n iÅŸleme gerek yok

-   TÃ¼m grafik tÃ¼rlerine uygun

> ğŸ’¡ EÄŸitim, analiz ve grafik becerilerini geliÅŸtirmek iÃ§in mÃ¼kemmel bir veri setidir.

## DaÄŸÄ±lÄ±m Grafikleri

> SÃ¼rekli deÄŸiÅŸkenlerin deÄŸerlerinin nasÄ±l daÄŸÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rselleÅŸtiren grafik tÃ¼rleridir.

ğŸ“Œ AmaÃ§:

-   Merkez (ortalama, medyan)

-   YayÄ±lÄ±m (minâ€“maks, Ã§eyrekler, standart sapma)

-   AykÄ±rÄ±lar

-   DaÄŸÄ±lÄ±m ÅŸekli (simetrik, Ã§arpÄ±k, Ã§ift tepeli...)

### ğŸ” KullanÄ±lan BazÄ± Grafik TÃ¼rleri

| Grafik TÃ¼rÃ¼  | Ne Zaman KullanÄ±lÄ±r?                                |
|--------------|-----------------------------------------------------|
| Histogram    | GÃ¶zlem sayÄ±sÄ± ile daÄŸÄ±lÄ±m analizi                   |
| Density Plot | SÃ¼rekli, pÃ¼rÃ¼zsÃ¼z daÄŸÄ±lÄ±m analizi (bÃ¼yÃ¼k veri iÃ§in) |
| Boxplot      | Merkezi eÄŸilim + Ã§eyrekler + aykÄ±rÄ±lar              |
| Violin Plot  | Boxplot + yoÄŸunluk bilgisi birleÅŸimi                |

> ğŸ“Š Her grafik veri setinin farklÄ± yÃ¶nlerini ortaya Ã§Ä±karÄ±r.\
> ğŸ‘€ DoÄŸru gÃ¶rselleÅŸtirme â†’ doÄŸru veri okuma.

## ğŸŸ¦ Histogram

```{r}
#| output-location: slide 
library(ggplot2)
ggplot(diamonds, aes(x = carat)) +
  geom_histogram(bins = 30, fill = "steelblue", color = "white")
```

> ğŸ“Œ Her sÃ¼tun belirli bir aralÄ±ktaki gÃ¶zlem sayÄ±sÄ±nÄ± gÃ¶sterir.

### ğŸ¯ Ne Zaman KullanÄ±lÄ±r?

-   GÃ¶zlem sayÄ±sÄ± yeterli ise (Ã¶rneÄŸin \> 100)
-   DaÄŸÄ±lÄ±m yapÄ±sÄ± keÅŸfi (tek modlu, Ã§arpÄ±klÄ±k, uÃ§lar)

### ğŸ”§ Fonksiyon ve ArgÃ¼manlar

| ArgÃ¼man                | AÃ§Ä±klama                                           |
|-------------------------|----------------------------------------------|
| `bins`                 | AralÄ±k sayÄ±sÄ± (fazla olursa detay, az olursa Ã¶zet) |
| `fill`                 | SÃ¼tun iÃ§i renk                                     |
| `color`                | SÃ¼tun kenarlÄ±ÄŸÄ± rengi                              |
| `aes(y = ..density..)` | HistogramÄ± yoÄŸunluk olarak Ã§izmek iÃ§in             |

## ğŸŒŠ YoÄŸunluk GrafiÄŸi (Density Plot)

```{r}
#| output-location: slide 
ggplot(diamonds, aes(x = carat)) +
  geom_density(fill = "lightgreen", alpha = 0.6)
```

> âš ï¸ Histogramdan farklÄ± olarak **gÃ¶zlem sayÄ±sÄ±nÄ± deÄŸil yoÄŸunluÄŸu** gÃ¶sterir

### ğŸ” AvantajlarÄ±

-   EÄŸilimleri daha net gÃ¶sterir

-   KarÅŸÄ±laÅŸtÄ±rmalÄ± analizlerde idealdir (Ã¶rn. iki grup)

## Histogram ve Density

Histogram ve density aynÄ± grafik iÃ§inde birlikte Ã§izilebilir!

```{r}
#| output-location: slide 
ggplot(diamonds, aes(x = carat)) +
  geom_histogram(aes(y = ..density..), 
                 bins = 30, 
                 fill = "lightgray", 
                 color = "white") +
  geom_density(color = "darkblue", 
               size = 1.2)
```

## ğŸ“¦ Boxplot

```{r}
#| output-location: slide 
ggplot(diamonds, aes(y = carat)) +
  geom_boxplot(fill = "orange")
```

ğŸ“Œ Medyan, Ã§eyrekler (Q1 ve Q3), minimumâ€“maksimum ve aykÄ±rÄ± deÄŸerleri gÃ¶sterir.

### ğŸ“Œ Yorumlama

-   Kutu: Q1â€“Q3 aralÄ±ÄŸÄ± (IQR)

-   Ã‡izgi: Medyan

-   Kuyruklar: minimum ve maksimum (outlier hariÃ§)

-   Noktalar: aykÄ±rÄ± deÄŸerler

### ğŸ”§ Fonksiyon ArgÃ¼manlarÄ±

| ArgÃ¼man          | AÃ§Ä±klama                        |
|------------------|---------------------------------|
| `notch = TRUE`   | Medyan gÃ¼ven aralÄ±ÄŸÄ±nÄ± gÃ¶sterir |
| `outlier.colour` | AykÄ±rÄ± deÄŸer rengi              |

> âš ï¸ Kategorik gruplar iÃ§in `aes(x = group, y = value)` yapÄ±sÄ±yla Ã§ok gÃ¼Ã§lÃ¼ hale gelir.

## ğŸ» Violin Plot â€“ YoÄŸunluk + Boxplot

```{r}
#| output-location: slide 
ggplot(diamonds, aes(x = cut, y = carat)) +
  geom_violin(fill = "violet", alpha = 0.7)
```

ğŸ» DaÄŸÄ±lÄ±mÄ±n ÅŸekli, yoÄŸunluÄŸu ve merkezi bir arada gÃ¶sterilir

### ğŸ“Œ AvantajlarÄ±

-   Ã–zellikle **Ã§ok modlu daÄŸÄ±lÄ±mlar** iÃ§in daha bilgilendirici

-   YoÄŸunluk grafiÄŸi ile boxplotâ€™un birleÅŸimi

-   BÃ¼yÃ¼k veri setlerinde daha estetik ve sezgisel

### ğŸ”§ Ã–nemli ArgÃ¼manlar

| ArgÃ¼man          | AÃ§Ä±klama                           |
|------------------|------------------------------------|
| `trim = FALSE`   | TÃ¼m yoÄŸunluk kuyruklarÄ±nÄ± gÃ¶sterir |
| `scale = "area"` | Alan, geniÅŸlik ya da count bazlÄ±   |

ğŸ¯ Violin plot, boxplotâ€™un fazla sade kaldÄ±ÄŸÄ± durumlarda gÃ¼Ã§lÃ¼ bir alternatiftir.

## Boxplot vs Violin Plot

```{r}
#| echo: false
library(ggplot2)
library(dplyr)

# Veri setini ikiye kopyalayalÄ±m
diamonds_subset <- diamonds %>% 
  filter(cut %in% c("Fair", "Good", "Very Good")) %>%  # sadeleÅŸtirme
  select(cut, carat)

box_data <- diamonds_subset %>%
  mutate(plot_type = "Boxplot")

violin_data <- diamonds_subset %>%
  mutate(plot_type = "Violin")

combined_data <- bind_rows(box_data, violin_data)

# Grafik Ã§izimi
ggplot(combined_data, aes(x = cut, y = carat, fill = plot_type)) +
  facet_wrap(~plot_type) +
  geom_boxplot(data = subset(combined_data, plot_type == "Boxplot")) +
  geom_violin(data = subset(combined_data, plot_type == "Violin")) +
  theme_minimal() +
  labs(title = "Boxplot vs Violin Plot", y = "Carat", x = "Cut") +
  scale_fill_manual(values = c("Boxplot" = "#f8766d", "Violin" = "#00bfc4"))

```

## Boxplot vs Violin Plot

Boxplot sadece medyan, Ã§eyrekler ve uÃ§ deÄŸerleri gÃ¶sterir

-   Violin plot â†’ bu bilgileri gÃ¶sterir + yoÄŸunluÄŸun ÅŸekli de ortaya Ã§Ä±kar
-   Violin plot Ã¶zellikle **Ã§ok modlu daÄŸÄ±lÄ±mlar** iÃ§in bilgilendiricidir
-   Boxplot daha sade ama bazen fazla Ã¶zet kalÄ±r

> ğŸ” Violin plot, daÄŸÄ±lÄ±mÄ± gÃ¶rmek isteyen gÃ¶z iÃ§in;\
> Boxplot, Ã¶zet gÃ¶rmek isteyen akÄ±l iÃ§indir.

------------------------------------------------------------------------

## SaÃ§Ä±lÄ±m (Scatter) Grafikleri

> Ä°ki sÃ¼rekli deÄŸiÅŸken arasÄ±ndaki iliÅŸkiyi gÃ¶rselleÅŸtirir.

ğŸ“Œ KullanÄ±m AmaÃ§larÄ±:

-   Ä°ki deÄŸiÅŸkenin birlikte nasÄ±l deÄŸiÅŸtiÄŸini gÃ¶rmek

-   DoÄŸrusal veya eÄŸrisel iliÅŸki var mÄ±?

-   Gruplar arasÄ± farklar?

-   AykÄ±rÄ± gÃ¶zlemler?

### ğŸ¯ Ne Zaman KullanÄ±lÄ±r?

-   Korelasyon analizi Ã¶ncesi
-   Regresyon Ã¶ncesi iliÅŸkiyi incelemek iÃ§in
-   Gruplar arasÄ± farklÄ±lÄ±klarÄ± gÃ¶rselleÅŸtirmek iÃ§in

### Estetik Ã–ÄŸeler (aes):

| Estetik | AnlamÄ±                                            |
|---------|---------------------------------------------------|
| `x`     | BaÄŸÄ±msÄ±z deÄŸiÅŸken                                 |
| `y`     | BaÄŸÄ±mlÄ± deÄŸiÅŸken                                  |
| `color` | Gruplar arasÄ± farkÄ± gÃ¶stermek                     |
| `size`  | DeÄŸiÅŸkenin Ã¶nemini gÃ¶stermek                      |
| `shape` | Kategorik grup ayrÄ±mÄ± (kÄ±sÄ±tlÄ± sayÄ±da)            |
| `alpha` | SaydamlÄ±k â€“ Ã¼st Ã¼ste binen noktalarÄ± ayÄ±rmak iÃ§in |

## Basit SaÃ§Ä±lÄ±m GrafiÄŸi

::: columns
::: {.column width="60%"}
```{r}
ggplot(diamonds, aes(x = carat, y = price)) +
  geom_point(alpha = 0.4, color = "darkred") +
  labs(
    title = "Elmas AÄŸÄ±rlÄ±ÄŸÄ± ve Fiyat Ä°liÅŸkisi",
    x = "Carat (AÄŸÄ±rlÄ±k)",
    y = "Price (Fiyat)"
  )
```
:::

::: {.column width="40%"}
-   `carat` arttÄ±kÃ§a `price` da artÄ±yor â†’ pozitif iliÅŸki

-   DaÄŸÄ±lÄ±m doÄŸrusal deÄŸil, **kavisli ve ivmelenen** bir yapÄ± var

-   Alt bÃ¶lgede yoÄŸunluk fazla (kÃ¼Ã§Ã¼k carat, dÃ¼ÅŸÃ¼k fiyat)
:::
:::

## GruplarÄ± Renkle GÃ¶ster

::: columns
::: {.column width="60%"}
```{r}
ggplot(diamonds, aes(x = carat, y = price, color = cut)) +
  geom_point(alpha = 0.4)
```
:::

::: {.column width="40%"}
ğŸ¨ `color = cut` â†’ farklÄ± kesim kaliteleri farklÄ± renklerle gÃ¶sterilir

Bu grafik, aynÄ± carat deÄŸeri iÃ§in fiyatlarÄ±n kesime gÃ¶re nasÄ±l deÄŸiÅŸtiÄŸini gÃ¶rmemizi saÄŸlar
:::
:::

------------------------------------------------------------------------

## Scatter Plot'ta KullanÄ±labilecek Estetikler

> `ggplot()` iÃ§inde `aes()` fonksiyonu gÃ¶rsel Ã¶geleri veriyle iliÅŸkilendirir.\
> Temel olarak `x` ve `y` zorunludur. DiÄŸer estetikler isteÄŸe baÄŸlÄ±dÄ±r.
>
> ğŸ’¡ Estetikleri seÃ§erken hem veri tÃ¼rÃ¼nÃ¼ hem de gÃ¶rsel sadeliÄŸi gÃ¶z Ã¶nÃ¼nde bulundur!

## ğŸ¯ Ekstra Estetik ArgÃ¼manlar

| ArgÃ¼man  | AÃ§Ä±klama                                                   |
|----------|------------------------------------------------------------|
| `color`  | NoktalarÄ± deÄŸiÅŸken bazlÄ± renklendirir (kategori/sÃ¼rekli)   |
| `size`   | Nokta bÃ¼yÃ¼klÃ¼ÄŸÃ¼nÃ¼ bir deÄŸiÅŸkene gÃ¶re ayarlar               |
| `shape`  | Nokta ÅŸekli â€“ sadece kategorik deÄŸiÅŸkenlerde kullanÄ±lÄ±r    |
| `alpha`  | SaydamlÄ±k â€“ Ã¼st Ã¼ste gelen noktalarÄ± ayÄ±rt etmeye yarar    |
| `stroke` | NoktanÄ±n dÄ±ÅŸ Ã§izgisinin kalÄ±nlÄ±ÄŸÄ± (sadece bazÄ± ÅŸekillerde) |

## ğŸ§  Dikkat Edilmesi Gerekenler

-   `shape` sadece 6 farklÄ± kategoriye kadar destekler\
-   `size` iÃ§in **Ã§ok kÃ¼Ã§Ã¼k farklar** algÄ±lanamaz â€“ Ã¶lÃ§ek kontrol edilmeli\
-   `alpha` â†’ bÃ¼yÃ¼k veri setlerinde her zaman tavsiye edilir\
-   Fazla estetik bir arada kullanÄ±lÄ±rsa **grafik yorulabilir** (az Ã§oktur!)

## ğŸ“ˆ**Scatter Plot + Trend Ã‡izgisi**

```{r}
#| output-location: slide 
set.seed(42)
diamonds_sample <- diamonds[sample(nrow(diamonds), 1000), ]

ggplot(diamonds_sample, aes(x = carat, y = price)) +
  geom_point(alpha = 0.3) +
  geom_smooth(method = "lm", se = TRUE, color = "blue")

```

-   `geom_smooth()` â†’ iliÅŸkiyi modelleyip bir Ã§izgi Ã§izer

-   `method = "lm"` â†’ doÄŸrusal regresyon

-   `se = TRUE` â†’ Ã§izginin etrafÄ±ndaki gÃ¼ven aralÄ±ÄŸÄ±nÄ± gÃ¶sterir

-   `color` â†’ Ã§izgi rengi

## DoÄŸrusal vs Loess Trend Ã‡izgisi

::: columns
::: {.column width="90%"}
```{r}
ggplot(diamonds_sample, aes(x = carat, y = price)) +
  geom_point(alpha = 0.2) +
  geom_smooth(method = "loess", color = "red", se = FALSE) +
  geom_smooth(method = "lm", color = "blue", se = FALSE)
```

ğŸ”´ KÄ±rmÄ±zÄ± Ã§izgi â†’ loess ğŸ”µ Mavi Ã§izgi â†’ lm
:::
:::

------------------------------------------------------------------------

## SÃ¼tun (Bar) Grafikleri â€“ Nedir?

> Kategorik deÄŸiÅŸkenlerin frekanslarÄ±nÄ± veya oranlarÄ±nÄ± gÃ¶rselleÅŸtirmeye yarar.

### ğŸ¯ KullanÄ±m AmaÃ§larÄ±:

-   Hangi kategori daha baskÄ±n?
-   SÄ±nÄ±f daÄŸÄ±lÄ±mlarÄ± nasÄ±l?
-   Gruplar arasÄ± farklar aÃ§Ä±k mÄ±?
-   Oransal karÅŸÄ±laÅŸtÄ±rmalar yapÄ±labilir mi?

### ğŸ”§ YÃ¶ntemler

| AmaÃ§                      | KullanÄ±lacak geom              |
|---------------------------|--------------------------------|
| GÃ¶zlem sayÄ±sÄ±nÄ± gÃ¶stermek | `geom_bar()` (otomatik sayar)  |
| Manuel deÄŸerle Ã§izmek     | `geom_col()` (Ã¶nceden sayÄ±lÄ±r) |

> ğŸ’¡ `geom_bar()` â†’ sadece x, `geom_col()` â†’ hem x hem y gerekir\
> ğŸ¨ Renk, pozisyon, tema ve etiketlerle Ã§ok gÃ¼Ã§lÃ¼ hale getirilebilir

## ğŸ“Š Basit `geom_bar()`

::: columns
::: {.column width="90%"}
```{r}
ggplot(diamonds, aes(x = cut)) +
  geom_bar(fill = "skyblue", color = "black")
```
:::
:::

ğŸ¯ `geom_bar()` sadece `x` ister, `y`'yi frekans olarak otomatik hesaplar\

Renk (`fill`) ve kenarlÄ±k (`color`) ile stil verilebilir

## âš”ï¸ `geom_bar()` vs `geom_col()`

| Ã–zellik        | `geom_bar()`                                 | `geom_col()`                             |
|------------------|----------------------------|--------------------------|
| Y deÄŸerleri    | Otomatik olarak gÃ¶zlem sayÄ±sÄ±nÄ± **hesaplar** | **Senin saÄŸladÄ±ÄŸÄ±n y** deÄŸerini kullanÄ±r |
| Girdi          | Sadece `x` yeterlidir                        | `x` ve `y` ikisi de gerekir              |
| Tipik kullanÄ±m | Kategorilerin frekans grafiÄŸi                | Ã–zet tablolar, oranlar, manuel veriler   |
| `stat`         | `stat = "count"` (varsayÄ±lan)                | `stat = "identity"` (otomatik olarak)    |

## âš”ï¸ `geom_bar()` vs `geom_col()`

::: columns
::: {.column width="50%"}
ğŸ“Š `geom_bar()`

```{r}
ggplot(diamonds, aes(x = cut)) +
  geom_bar(fill = "skyblue", color = "black")
```
:::

::: {.column width="50%"}
ğŸ“Š `geom_col()`

```{r}
diamonds |> count(cut) |> 
  ggplot(aes(x = cut, y = n)) +
  geom_col(fill = "skyblue", color = "black")
```
:::
:::

ğŸ¯ `geom_bar()` otomatik sayar. DiÄŸer yandan **`geom_col`** ile Ã§izilen grafik `geom_bar()` grafiÄŸinin aynÄ±sÄ±nÄ± Ã§izer â€” ama bu kez **veriyi sen saydÄ±n, `ggplot2` deÄŸil**.

## ğŸ’¬ Ne Zaman Hangisi?

âœ… EÄŸer **ham veriyle** Ã§alÄ±ÅŸÄ±yorsan â†’ `geom_bar()` yeterli ve kolay

âœ… EÄŸer **Ã¶zetlenmiÅŸ veri** (Ã¶rneÄŸin `dplyr::count()` sonrasÄ±) varsa â†’ `geom_col()` gerekir

### ğŸ”§ Bonus: FarkÄ± GÃ¶rmek Ä°Ã§in `stat` Parametresiyle Oyna

AÅŸaÄŸÄ±daki iki satÄ±r aynÄ± sonucu verir:

```{r}
#| eval: false
geom_bar(stat = "count")   # Otomatik sayar (varsayÄ±lan)
geom_col(stat = "identity")  # y deÄŸerlerini doÄŸrudan kullanÄ±r
```

## ğŸ“¦Kategorileri Renkle GÃ¶ster (`fill`)

::: columns
::: {.column width="95%"}
```{r}
ggplot(diamonds, aes(x = cut, fill = color)) +
  geom_bar(position = "stack")
```
:::
:::

ğŸ“Œ Bu grafik "cut" her biri iÃ§inde farklÄ± "color" gruplarÄ±nÄ±n daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶sterir\

ğŸ’¡ VarsayÄ±lan pozisyon `stack` â†’ gruplar Ã¼st Ã¼ste bindirilir

### Alternatifler:

| position argÃ¼manÄ± | AÃ§Ä±klama                         |
|-------------------|----------------------------------|
| `"stack"`         | Ãœst Ã¼ste bindirir (varsayÄ±lan)   |
| `"dodge"`         | Yan yana koyar                   |
| `"fill"`          | Oranlar Ã¼zerinden normalize eder |

## ğŸ¨Yan Yana Barlar (`position = "dodge"`)

::: columns
::: {.column width="95%"}
```{r}
ggplot(diamonds, aes(x = cut, fill = color)) +
  geom_bar(position = "dodge")
```
:::
:::

ğŸ†š Her "cut" kategorisinde "color" deÄŸerleri yan yana gelir. Gruplar arasÄ± karÅŸÄ±laÅŸtÄ±rma iÃ§in daha net.

## ğŸ·ï¸ Etiket Ekleme ve Legend AyarlarÄ±

::: columns
::: {.column width="95%"}
```{r}
ggplot(diamonds, aes(x = cut, fill = color)) +
  geom_bar(position = "dodge") +
  geom_text(stat = "count", aes(label = after_stat(count)),
            position = position_dodge(width = 0.9), vjust = -0.5) +
  labs(title = "Kesim Kalitesine GÃ¶re Renk DaÄŸÄ±lÄ±mÄ±",
       fill = "Renk Grubu") +
  theme(legend.position = "bottom")
```
:::
:::

### ğŸ¯ AÃ§Ä±klama:

-   `geom_text()` â†’ sayÄ±sal etiket ekler

-   `stat = "count"` â†’ sayÄ±mÄ± otomatik hesaplar

-   `after_stat(count)` â†’ `ggplot2` v3.4+ sÃ¼rÃ¼mle gelen yeni yapÄ±

-   `legend.position = "bottom"` â†’ legenda sunum dostu yerleÅŸtirme

## SÃ¼tun Grafikleri â€“ SÄ±k YapÄ±lan Hatalar

âš ï¸ Kategorik deÄŸiÅŸken sayÄ±sÄ± Ã§oksa:\
â†’ SÃ¼tunlar aÅŸÄ±rÄ± sÄ±kÄ±ÅŸÄ±r, okunabilirlik dÃ¼ÅŸer\
â†’ Gerekirse gruplandÄ±r veya sadeleÅŸtir

âš ï¸ Y ekseni 0'dan baÅŸlamÄ±yorsa:\
â†’ GÃ¶rsel yanÄ±lsama olur â†’ yorumlar hatalÄ± olur

âš ï¸ Oran karÅŸÄ±laÅŸtÄ±rmasÄ± iÃ§in: â†’ `position = "fill"` kullan, sayÄ± deÄŸil oran gÃ¶ster

> ğŸ¯ Grafik sadece ÅŸekil deÄŸil â†’ veri anlatÄ±m aracÄ±dÄ±r

------------------------------------------------------------------------

## Zaman Serisi Grafiklerinin Ã–nemi

> ğŸ“ˆ DeÄŸerlerin zaman iÃ§indeki deÄŸiÅŸimini gÃ¶rselleÅŸtirmeye yarar.

### ğŸ¯ KullanÄ±m AmaÃ§larÄ±:

-   Trendleri, mevsimsellikleri ve kÄ±rÄ±lmalarÄ± gÃ¶rmek\
-   OlaylarÄ±n zamanlamasÄ±na baÄŸlÄ± deÄŸiÅŸimleri izlemek\
-   Seriler arasÄ± karÅŸÄ±laÅŸtÄ±rmalar yapmak (birden fazla Ã§izgi)

### ğŸ’¡ Uygun Grafik Tipi

| AmaÃ§             | KullanÄ±lacak `geom`       |
|------------------|---------------------------|
| Tek seri         | `geom_line()`             |
| Ã‡oklu seri       | `facet_wrap()`, `color`   |
| NoktalarÄ± gÃ¶rmek | `+ geom_point()`          |
| Gruplu seriler   | `group`, `color`, `facet` |

## ğŸ“˜ Veri Seti: `economics`

ğŸ“¦ `ggplot2` paketinde yer alan hazÄ±r zaman serisi veri setidir.

```{r}
library(ggplot2)
data(economics)
dplyr::glimpse(economics)
```

## ğŸ“˜ Veri Seti: `economics`

### ğŸ§¾ DeÄŸiÅŸkenler:

| DeÄŸiÅŸken   | AÃ§Ä±klama                                |
|------------|-----------------------------------------|
| `date`     | GÃ¶zlem tarihi (aylÄ±k)                   |
| `pce`      | KiÅŸisel tÃ¼ketim harcamalarÄ± (milyar \$) |
| `pop`      | NÃ¼fus                                   |
| `unemploy` | Ä°ÅŸsiz sayÄ±sÄ± (bin kiÅŸi)                 |
| `uempmed`  | Ortalama iÅŸsizlik sÃ¼resi (hafta)        |
| `psavert`  | Tasarruf oranÄ± (%)                      |

ğŸ“… AylÄ±k frekansta, 1967 yÄ±lÄ±ndan itibaren gÃ¶zlem iÃ§erir.\
ğŸ” Zaman serisi analizleri ve grafik Ã¶rnekleri iÃ§in idealdir.

## Temel Zaman Serisi GrafiÄŸi

::: columns
::: {.column width="95%"}
```{r}
ggplot(economics, aes(x = date, y = unemploy)) +
  geom_line(color = "darkred", size = 1.2) +
  labs(title = "ABD'de Ä°ÅŸsiz SayÄ±sÄ±nÄ±n Zaman Ä°Ã§indeki DeÄŸiÅŸimi",
       x = "Tarih", y = "Ä°ÅŸsiz SayÄ±sÄ± (Bin)")
```
:::
:::

ğŸ” `geom_line()` zaman ekseninde kesintisiz Ã§izgi Ã¼retir

ğŸ§  Trend ve ani kÄ±rÄ±lmalar doÄŸrudan gÃ¶rÃ¼lebilir

## `theme()` ile Grafik DÃ¼zenleme

::: columns
::: {.column width="95%"}
```{r}
ggplot(economics, aes(x = date, y = unemploy)) +
  geom_line(color = "steelblue", size = 1) +
  labs(title = "Ä°ÅŸsiz SayÄ±sÄ± Trend GrafiÄŸi") +
  theme(
    plot.title = element_text(size = 16, face = "bold", hjust = 0.5),
    axis.text.x = element_text(angle = 45, hjust = 1),
    panel.grid.minor = element_blank()
  )
```
:::
:::

ğŸ¯ Grafik okunabilirliÄŸi iÃ§in baÅŸlÄ±k, eksenler ve grid Ã§izgileri dÃ¼zenlenir

## Ã‡oklu Zaman Serisi GrafiÄŸi

::: columns
::: {.column width="95%"}
```{r}
ggplot(economics_long, aes(x = date, y = value)) +
  geom_line(color = "steelblue", size = 1) +
  facet_wrap(~ variable, scales = "free_y", ncol = 2) +
  labs(title = "Ekonomik GÃ¶stergelerin Zaman Serisi Grafikleri",
       x = "Tarih", y = "DeÄŸer")
```
:::
:::

ğŸ“¦ `economics_long` zaten tidy (long) formattadÄ±r\
`facet_wrap()` her gÃ¶stergeyi ayrÄ± panelde net bir ÅŸekilde sunar\
`free_y` â†’ her gÃ¶sterge kendi eksen Ã¶lÃ§eÄŸiyle deÄŸerlendirilir

------------------------------------------------------------------------

### ğŸ¨ Renkli Tek Grafik: `color = variable`

::: columns
::: {.column width="95%"}
```{r}
ggplot(economics_long, aes(x = date, y = value, color = variable)) +
  geom_line(size = 1) +
  labs(title = "Ekonomik GÃ¶stergeler (Renkli)",
       x = "Tarih", y = "DeÄŸer", color = "GÃ¶sterge") +
  theme_minimal()
```
:::
:::

ğŸ§  `color = variable` â†’ her seriyi ayÄ±rt etmek kolay

ğŸ¯ Ã–zellikle karÅŸÄ±laÅŸtÄ±rmalÄ± analizler iÃ§in uygundur

âš ï¸ Grafik Ã¶lÃ§ekleri aynÄ± deÄŸilse karÅŸÄ±laÅŸtÄ±rma yanÄ±ltÄ±cÄ± olabilir.

## Ekstra Grafik TÃ¼rleri â€“ ggplot2 ile Neler Yapabilirsiniz?

-   `geom_area()` â†’ kÃ¼mÃ¼latif deÄŸiÅŸim
-   `geom_smooth()` â†’ trend ve iliÅŸki Ã§izgisi
-   `geom_point()` â†’ seyrek serilerde nokta gÃ¶rselliÄŸi
-   `geom_vline()` / `annotate()` â†’ Ã¶nemli tarih iÅŸaretleme
-   `gganimate` â†’ zamanla deÄŸiÅŸimi gÃ¶steren animasyonlar
-   `plotly::ggplotly()` â†’ interaktif grafiklere dÃ¶nÃ¼ÅŸÃ¼m

------------------------------------------------------------------------

## ggplot2 iÃ§in Harika Kaynaklar

-   ğŸ“˜ [**ggplot2: Elegant Graphics for Data Analysis** (Hadley Wickham)](https://ggplot2-book.org/)\
-   ğŸŒ <https://r-graph-gallery.com/> â€“ yÃ¼zlerce Ã¶rnek\
-   ğŸ“š [The Big Book of R](https://www.bigbookofr.com/) â€“ Data Visualization\
-   ğŸ“˜ `ggplot2` cheat sheet â†’ RStudioâ€™dan indirilebilir\
-   ğŸ“¦ Paketler: `ggthemes`, `ggrepel`, `viridis`, `scales`, `patchwork`

> ğŸ’¡ Grafik Ã¶ÄŸrenmek, â€œÃ§izip geÃ§mekâ€ deÄŸil â€œgÃ¶sterip anlatmakâ€ iÅŸidir.

------------------------------------------------------------------------

## Grafik Ã‡izerken Dikkat Etmemiz Gerekenler

âœ… Y ekseni mÃ¼mkÃ¼nse 0â€™dan baÅŸlamalÄ±\
âœ… Kategoriler okunabilir olmalÄ± (Ã§ok kategori varsa sadeleÅŸtir)\
âœ… Renk seÃ§imi â†’ anlamlÄ± ve eriÅŸilebilir (renk kÃ¶rlÃ¼ÄŸÃ¼!)\
âœ… BaÅŸlÄ±klar, etiketler, legend â†’ anlatÄ±mÄ± netleÅŸtirmeli\
âœ… Fazla sÃ¼s â†’ grafiÄŸin mesajÄ±nÄ± zayÄ±flatÄ±r\
âœ… Ã–lÃ§ek farkÄ± varsa karÅŸÄ±laÅŸtÄ±rmadan kaÃ§Ä±n (Ã¶rnek: economics_long)

> ğŸ¯ Grafik, analiz sonucunun deÄŸil, **anlamÄ±n gÃ¶rselidir**

**TeÅŸekkÃ¼rler**

Muhammed Fatih TÃœZEN

e-posta: **`fatih.tuzen@tuik.gov.tr`**

Linkedin: [`https://www.linkedin.com/in/dr-m-fatih-t-2b2a4328/`](https://www.linkedin.com/in/dr-m-fatih-t-2b2a4328/)
